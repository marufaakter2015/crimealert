<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crime alert project</title>
  <link rel="stylesheet" href="home.css">
   <!-- <script src="https://kit.fontawesome.com/a076d05399.js"></script>  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <div id="user_div">
  <nav>
    <input type="checkbox" id="check">
    <label for="check" class="checkbtn">
      <i class="fas fa-bars"></i>
    </label>
    <label class="logo"><img src="crimealert.jpg" width="40" height="40"></label>
    <ul>
      <li><a class="active" href="./home.html">Home</a></li>
      <li><a href="#">Contact</a></li>
      <li><a href="#">Services</a></li>
    </ul>
  </nav>

  <h2 id="welcome">Welcome <span id="userEmailSpan"></span> to our website.</h2>

 
  <div id="pac-container" >
    <input id="pac-input" class="style" type="text" placeholder="Enter a location..." />
 <img class="search-icon"  src="https://img.icons8.com/material-outlined/24/000000/search--v1.png"/>
   </div>
  

  
  <!--Google map-->
  <div id="map"></div>
  <script>
    let map;

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: 23.8644609580446, lng: 89.4061446031607 },
        zoom: 8,
      });
      

      //call marker function
addMarker({lat:23.858334,lng: 90.266670});
addMarker({lat:22.820000,lng: 89.550003});
addMarker({lat:23.777176,lng: 90.399452});
addMarker({lat:23.170664,lng: 89.212418});
addMarker({lat:22.723406,lng: 89.075127});







      //add marker function
      function addMarker(coords){
        var marker = new google.maps.Marker({
          position:coords,
          map :map,
        });
      }
      

      const input = document.getElementById("pac-input");
      const options = {
        fields: ["formatted_address", "geometry", "name"],
        strictBounds: false,
        types: ["establishment"],
      };

      const autocomplete = new google.maps.places.Autocomplete(input, options);
      autocomplete.addListener("place_changed", () => {
        // infowindow.close();
        // marker.setVisible(false);

        const place = autocomplete.getPlace();
        const lat = place.geometry.location.lat();
        const lng = place.geometry.location.lng();
        
        new google.maps.Map(document.getElementById("map"), {
        center: { lat: lat, lng: lng },
        zoom: 8,
      });
        
      });


    }
  </script>
  <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
  <!-- <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAq9Oul7spdjS4e9GlDLKmxqhrZeL-xgM8&callback=initMap&v=weekly"
    async>

    </script> -->
  <script async
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAq9Oul7spdjS4e9GlDLKmxqhrZeL-xgM8&libraries=places&callback=initMap">
    </script>

  <!-- Optional JavaScript; choose one of the two! -->

  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>

  <!-- Option 2: Separate Popper and Bootstrap JS -->

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
    integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>
  <!--API-->



</div>

<script>
  let userEmail = localStorage.getItem('userEmail');
  let userEmailSpan = document.getElementById('userEmailSpan');
  console.log(userEmailSpan);
  userEmailSpan.innerHTML =userEmail;
</script>

</body>

</html>